<Project TreatAsLocalProperty="Dev" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!-- 
      Declare our supported frameworks so they (eventually, not working on 15.3) show up in 
      the target framework selection dropdown. 
  -->
  <ItemGroup>
    <SupportedTargetFramework Include="net462" DisplayName="Visual Studio 2017" />
    <SupportedTargetFramework Include="net461" DisplayName="Visual Studio 2015" />
    <SupportedTargetFramework Include="net46" DisplayName="Visual Studio 2013" />
  </ItemGroup>

  <!-- 
      This property is important since while restoring, we need to report all the packages for all the 
      target frameworks, in particular, the VSSDK.BuildTools, even if we know that during a cross-targeting 
      build, you can only have *one* VSSDK.BuildTools loaded at a time (because of the Tasks assembly being 
      loaded first and winning, potentially causing the VSSDK targets to be inconsistent). 
      The combination of properties to check was reverse-engineered from the NuGet targets at 
      https://github.com/NuGet/NuGet.Client/blob/dev/src/NuGet.Core/NuGet.Build.Tasks/NuGet.targets#L54-L56
  -->
  <PropertyGroup>
    <IsRestoring Condition="'$(NuGetRestoreTargets)' != '' And '$(ExcludeRestorePackageImports)' == 'true'">true</IsRestoring>
  </PropertyGroup>

  <PropertyGroup>
    <!-- We only support building/loading on VS2017+ -->
    <MinimumVisualStudioVersion>15.0</MinimumVisualStudioVersion>
    <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
    <AppendRuntimeIdentifierToOutputPath>false</AppendRuntimeIdentifierToOutputPath>
  </PropertyGroup>

</Project>